import{u as h,a as x,j as e,b as p,c as v,r as y,d as N,g,e as j,f as b}from"./index-BK_fQUa3.js";import{B as C}from"./Board-DRuiFLn_.js";const k=r=>{const{onOpenModal:c}=r,{pageNo:a,quiz:i,selectedAnswers:o}=h(),s=x(),l=()=>{s(p(a-1))},t=()=>{s(p(a+1))},d=()=>{o.filter(u=>u).length===i.length?c():alert("please complete all the questions")};return e.jsxs("div",{className:"action-btns",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:l,disabled:a===0,children:"Prev"}),a>=i.length-1?e.jsx("button",{className:"btn btn-success",onClick:d,children:"Submit"}):e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:t,children:"Next"})]})},R=()=>{const r=x(),{selectedAnswers:c,quiz:a}=h(),i=o=>{r(p(o))};return e.jsx("div",{className:"indicators",children:a.map((o,s)=>e.jsx("button",{type:"button",className:`${c[s]?"active indicator":"indicator"} btn btn-light`,onClick:()=>i(s),children:s+1},s))})},_=r=>{const{data:c}=r;return e.jsx(e.Fragment,{children:e.jsx(C,{data:c,boardtype:"qBoard"})})},w=r=>{const{open:c}=r;return e.jsx("div",{className:"scoreboard",style:{display:c?"block":"none"},children:e.jsx("div",{className:"scoreboard-dialogue",children:r.children})})},z=r=>{const c=x(),{quiz:a,selectedAnswers:i}=h(),{onCloseModal:o}=r;let s=0;i.forEach((n,f)=>{a[f].correct_answer===n&&(s=s+1)});const l=s/a.length*100,t=l>70?"pass":"fail",d=()=>{c(N()),c(g()),o()},u=()=>{c(y()),o()},m=()=>{o(),c(v())};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container d-flex justify-content-center",children:e.jsxs("div",{className:"card p-3",children:[e.jsx("h5",{className:"mt-3 mb-3",children:"Performance score"}),e.jsxs("div",{className:"border p-2 rounded d-flex flex-row align-items-center",children:[e.jsxs("div",{className:`p-1 px-4 d-flex flex-column align-items-center rounded ${t==="pass"?"alert alert-success":"alert alert-danger"}`,children:[e.jsx("span",{className:`d-block char ${t==="pass"?"text-success":"text-danger"}`,children:`${t==="pass"?"Pass":"Fail"}`}),e.jsxs("span",{className:`${t==="pass"?"text-success":"text-danger"}`,children:[l,"%"]})]}),e.jsxs("div",{className:"ml-2 p-3",children:[e.jsxs("h6",{className:"heading1",children:["You gained ",s,"/",a.length]}),e.jsxs("span",{children:["The average exam score is ",l,"%, result will be ",t]})]})]})]})}),e.jsxs("div",{className:"text-center mt-4",children:[i.filter(n=>n).length===a.length&&e.jsx("button",{onClick:m,type:"button",className:"btn btn-primary me-2",children:"Show Results"}),t==="fail"&&e.jsx("button",{onClick:u,type:"button",className:"btn btn-outline-secondary me-2",children:"Retry"}),e.jsx("button",{onClick:d,type:"button",className:"btn btn-outline-secondary",children:"Close"})]})]})},M=r=>{const c=x(),{open:a,onCloseResultsModal:i}=r,{quiz:o,resultPageNo:s,selectedAnswers:l}=h(),t=j.useMemo(()=>o[s]??{},[s,o]),d=()=>{c(b(s-1))},u=()=>{c(b(s+1))},m=()=>{c(N()),c(g()),i()};return e.jsx("div",{className:"resultboard",style:{display:a?"block":"none"},children:e.jsxs("div",{className:"resultboard-dialogue",children:[e.jsxs("h2",{children:["Question",s+1]}),e.jsx("p",{children:t.question}),e.jsx("ul",{className:"answers",children:t==null?void 0:t.answers.map(n=>e.jsxs("li",{className:`answer-item ${l[s]===n&&n===t.correct_answer?"correct selected":l[s]===n&&n!==t.correct_answer?"wrong":l[s]!==n&&n===t.correct_answer?"correct":""}`,children:[l[s]===n&&n===t.correct_answer?e.jsx("i",{className:"fa fa-check"}):l[s]===n&&n!==t.correct_answer?e.jsx("i",{className:"fa fa-times"}):"",n,e.jsx("span",{className:"answercomment",children:`${l[s]===n&&n===t.correct_answer||l[s]===n&&n!==t.correct_answer?"Your answer":l[s]!==n&&n===t.correct_answer?"Correct answer":""}`})]},n))}),e.jsxs("div",{className:"resultActions",children:[e.jsx("button",{onClick:d,disabled:s===0,children:"< Previous"}),s>=o.length-1?e.jsx("button",{onClick:m,children:"Close"}):e.jsx("button",{onClick:u,children:"Next >"})]})]})})},S=r=>{const{data:c}=r,[a,i]=j.useState(!1),[o,s]=j.useState(!1),l=()=>{i(!a)},t=()=>{i(!1)},d=()=>{s(!o)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"question-layout",children:[e.jsxs("div",{className:"question-container",children:[e.jsx(_,{data:c}),e.jsx(k,{onOpenModal:()=>l()})]}),e.jsx(R,{})]}),e.jsx(w,{open:a,children:e.jsx(z,{onCloseModal:t})}),e.jsx(M,{open:o,onCloseResultsModal:d})]})};export{S as default};
