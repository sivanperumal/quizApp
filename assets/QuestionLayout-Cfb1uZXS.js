import{u as b,a as m,j as e,b as h,c as j,r as N,d as g,g as y,e as f}from"./index-D1NEPgT-.js";import{B as v}from"./BoardComp-D1Qf4bAr.js";const C=a=>{const{onOpenModal:s}=a,{pageNo:t,quiz:c,selectedAnswers:l}=b(),n=m(),r=()=>{n(h(t-1))},o=()=>{n(h(t+1))},i=()=>{l.filter(d=>d).length===c.length?s():alert("please complete all the questions")};return e.jsxs("div",{className:"action-btns",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:r,"data-testid":"prev-btn",disabled:t===0,children:"Prev"}),t>=c.length-1?e.jsx("button",{className:"btn btn-success",onClick:i,"data-testid":"submit-btn",children:"Submit"}):e.jsx("button",{type:"button",className:"btn btn-outline-secondary","data-testid":"next-btn",onClick:o,children:"Next"})]})},w=()=>{const a=m(),{selectedAnswers:s,quiz:t}=b(),c=l=>{a(h(l))};return e.jsx("div",{className:"indicators",children:t.map((l,n)=>e.jsx("button",{type:"button",className:`${s[n]?"active indicator":"indicator"} btn btn-light`,onClick:()=>c(n),"data-testid":"indicator-btn",children:n+1},n))})},k=a=>{const{data:s}=a;return e.jsx(e.Fragment,{children:e.jsx(v,{data:s,boardtype:"qBoard"})})},q=a=>{const{open:s}=a;return e.jsx("div",{className:"scoreboard",style:{display:s?"block":"none"},children:e.jsx("div",{className:"scoreboard-dialogue",children:a.children})})},z=a=>{const s=m(),{quiz:t,selectedAnswers:c}=b(),{onCloseModal:l}=a;let n=0;c.forEach((u,p)=>{t[p].correct_answer===u&&(n=n+1)});const r=n/t.length*100,o=r>70?"pass":"fail",i=()=>{s(g()),s(y()),l()},d=()=>{s(N()),l()},x=()=>{l(),s(j())};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container d-flex justify-content-center",children:e.jsxs("div",{className:"card p-3",children:[e.jsx("h5",{className:"mt-3 mb-3",children:"Performance score"}),e.jsxs("div",{className:"border p-2 rounded d-flex flex-row align-items-center",children:[e.jsxs("div",{className:`p-1 px-4 d-flex flex-column align-items-center rounded ${o==="pass"?"alert alert-success":"alert alert-danger"}`,children:[e.jsx("span",{className:`d-block char ${o==="pass"?"text-success":"text-danger"}`,children:`${o==="pass"?"Pass":"Fail"}`}),e.jsxs("span",{className:`${o==="pass"?"text-success":"text-danger"}`,children:[r,"%"]})]}),e.jsxs("div",{className:"ml-2 p-3",children:[e.jsxs("h6",{className:"heading1",children:["You gained ",n,"/",t.length]}),e.jsxs("span",{children:["The average exam score is ",r,"%, result will be ",o]})]})]})]})}),e.jsxs("div",{className:"text-center mt-4",children:[c.filter(u=>u).length===t.length&&e.jsx("button",{onClick:x,type:"button",className:"btn btn-primary me-2","data-testid":"show-results-btn",children:"Show Results"}),o==="fail"&&e.jsx("button",{onClick:d,type:"button",className:"btn btn-outline-secondary me-2","data-testid":"retry-btn",children:"Retry"}),e.jsx("button",{onClick:i,type:"button",className:"btn btn-outline-secondary","data-testid":"close-btn",children:"Close"})]})]})},Q=a=>{const{data:s}=a,[t,c]=f.useState(!1),l=()=>{c(!t)},n=()=>{c(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"question-layout",children:[e.jsxs("div",{className:"question-container",children:[e.jsx(k,{data:s}),e.jsx(C,{onOpenModal:()=>l()})]}),e.jsx(w,{})]}),e.jsx(q,{open:t,children:e.jsx(z,{onCloseModal:n})})]})};export{Q as default};
